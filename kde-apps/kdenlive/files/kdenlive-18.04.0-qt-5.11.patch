From c205adc1f55e2864180b3b0e1fe133c9056e9130 Mon Sep 17 00:00:00 2001
From: Andreas Sturmlechner <asturm@gentoo.org>
Date: Fri, 13 Apr 2018 23:56:26 +0200
Subject: [PATCH] Fix build with Qt 5.11_beta3 (dropping qt5_use_modules)

---
 renderer/CMakeLists.txt | 3 +--
 src/CMakeLists.txt      | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/renderer/CMakeLists.txt b/renderer/CMakeLists.txt
index 27f5f4367..693478abb 100644
--- a/renderer/CMakeLists.txt
+++ b/renderer/CMakeLists.txt
@@ -9,9 +9,8 @@ set(kdenlive_render_SRCS
 add_executable(kdenlive_render ${kdenlive_render_SRCS})
 ecm_mark_nongui_executable(kdenlive_render)
 
-qt5_use_modules(kdenlive_render Widgets Concurrent DBus)
-
 target_link_libraries(kdenlive_render
+  Qt5::Widgets Qt5::Concurrent Qt5::DBus
   ${QT_LIBRARIES}
   ${Qt5_LIBRARIES}
 )
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 1b3cbdea9..2ba81bb48 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -299,7 +299,7 @@ if (KF5Crash_FOUND)
     target_link_libraries(kdenlive KF5::Crash)
 endif()
 
-qt5_use_modules( kdenlive Script Widgets Concurrent Qml Quick)
+target_link_libraries(kdenlive Qt5::Script Qt5::Widgets Qt5::Concurrent Qt5::Qml Qt5::Quick)
 
 if (Qt5WebKitWidgets_FOUND)
     message(STATUS "Found Qt5 WebKitWidgets. You can use your Freesound.org credentials to download files")
-- 
2.17.0

